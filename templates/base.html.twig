<!DOCTYPE html>

<html>

<html lang="fr">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="description" content="Plateforme de présentation de projets prévus ou en cours. Présentez gratuitement votre projet, ou recherchez des projets.">

    <meta name="keywords" content="présentation de projets, page de projet, cartes de visites de projets">
    
    <link rel="icon" 
      type="image/png" 
      href="{{ asset('website_brand/favicon16.png', 'icons')}}">

    <title>{% block title %}Bienvenue sur Propon{% endblock %}</title>

    {# Bootstrap 5 css #}

    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/app.css" rel="stylesheet">

    {% block stylesheets %}

    {% endblock %}


    {% block priorJavascipts %}{% endblock %}
    
    {# Bootstrap 5 javascript #}
    
    <script src="/js/bootstrap.js"></script>

    {# jquery javascript #}

    <script src="/js/jquery-3.6.0.js"></script>

    {# Mixpanel Tracking Code #}

    <script type="text/javascript">
        (function(f,b){if(!b.__SV){var e,g,i,h;window.mixpanel=b;b._i=[];b.init=function(e,f,c){function g(a,d){var b=d.split(".");2==b.length&&(a=a[b[0]],d=b[1]);a[d]=function(){a.push([d].concat(Array.prototype.slice.call(arguments,0)))}}var a=b;"undefined"!==typeof c?a=b[c]=[]:c="mixpanel";a.people=a.people||[];a.toString=function(a){var d="mixpanel";"mixpanel"!==c&&(d+="."+c);a||(d+=" (stub)");return d};a.people.toString=function(){return a.toString(1)+".people (stub)"};i="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" ");
        for(h=0;h<i.length;h++)g(a,i[h]);var j="set set_once union unset remove delete".split(" ");a.get_group=function(){function b(c){d[c]=function(){call2_args=arguments;call2=[c].concat(Array.prototype.slice.call(call2_args,0));a.push([e,call2])}}for(var d={},e=["get_group"].concat(Array.prototype.slice.call(arguments,0)),c=0;c<j.length;c++)b(j[c]);return d};b._i.push([e,f,c])};b.__SV=1.2;e=f.createElement("script");e.type="text/javascript";e.async=!0;e.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?
        MIXPANEL_CUSTOM_LIB_URL:"file:"===f.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";g=f.getElementsByTagName("script")[0];g.parentNode.insertBefore(e,g)}})(document,window.mixpanel||[]);
        
        // Enabling the debug mode flag is useful during implementation,
        // but it's recommended you remove it for production
        mixpanel.init('04e019910114a2706779d88fba4c1044', {debug: true});

    </script>

        
    <script type="text/javascript">

        $(document).ready(function(){

            $(".js-track").on("click", function(event){ 

                tracked = $(this).data("tracked");

                //mixpanel.track(tracked.key, tracked.attributes);

            });
        
        })

    </script>



    <script> // basic feedback form - manage appearance

        var showFeedbackForm;

        //user has already seen feedback form ?

        var seenFeedbackForm = localStorage.getItem('seenFeedbackForm');

        if(!seenFeedbackForm){

            seenFeedbackForm = localStorage.setItem('seenFeedbackForm', false);

        }

        //counting user page views

        var pageViews = localStorage.getItem('pageViews');

        pageViews ? localStorage.setItem('pageViews', parseInt(pageViews)+1) : localStorage.setItem('pageViews', 0);

        if(pageViews > 2 && !seenFeedbackForm){

            localStorage.setItem('seenFeedbackForm', true);
            showFeedbackForm = true;

        } else {showFeedbackForm=false;};


        showFeedbackForm=true;

    </script>
        

    {# Hotjar Tracking Code for Propon (only for non admins and prod environment)#}

    {% if not is_granted('ROLE_ADMIN') and app.request.server.get("APP_ENV") == 'prod' %}

        <script>
            
            (function(h,o,t,j,a,r){
                h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
                h._hjSettings={hjid:2214943,hjsv:6};
                a=o.getElementsByTagName('head')[0];
                r=o.createElement('script');r.async=1;
                r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
                a.appendChild(r);
            })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');

        </script>
    
    {% endif %}


    {% block javascripts %}

    {% endblock %}

</head>

<body>

    {# Header Navbar #}

    {% include "_partials/header_navbar.html.twig" %}

    <!--Sidebar & Main Content Container -->

    <div class="container-fluid"> 

        <div class="row" style="min-height:500px;">

            <!-- Sidebar -->
            
            {% block sidebar %}{% endblock %}
            
            <!-- Main Body Content -->

            <div class="col bg-light">

                {# search experience #}

                {% include "_partials/search_experience.html.twig" %}

                <!-- Flash Messages Display (see app.css) -->

                <div id="flash-messages" class="">

                    {% for label, messages in app.flashes %}
                    
                        <div class="flash-message alert alert-{{label}}">
                    
                            {% for message in messages %}
                    
                            <p class="p-0 m-0 text-center">{{message | raw}}</p>
                    
                            {% endfor %}
                    
                        </div>
                
                    {% endfor %}

                </div>
            
                <!-- End of Flash Messages Display -->

                <div id="main-body-container">

                    {% block body %}{% endblock %}
                                
                    <div id="feedbackFormInvite" class="" style="display:none">

                        {% include 'pools/notification_invite.html.twig' %}

                    </div>

                    <script>

                        if(showFeedbackForm){
                            $("#feedbackFormInvite").show(); 
                        }
                        
                    </script>
                    
                </div>
                
            </div>

        </div>

    </div>  


    {# Footer #}

    {% block footer %}
    
        {% include "_partials/footer.html.twig" %}
    
    {% endblock %}


</body>

</html>