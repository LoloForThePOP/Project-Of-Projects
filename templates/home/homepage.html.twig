{% extends 'base.html.twig' %}

{% block title %}Propon{% endblock %}

{% block stylesheets %}
  <link href="/css/thumbnails_display.css" rel="stylesheet">
  <link href="/css/show_more_less_button.css" rel="stylesheet">
{% endblock %}

{% import "search_results/_macro_display_grid_collection.html.twig" as display %}

{% block body %}

  <div class="page-container container-lg px-0 px-lg-3 col-xxl-8">

     {# Displaying registered user presentations #}

    {% if app.user %}


    {% block javascripts %}
      <script src="/js/show_more_less_button.js"></script>
    {% endblock %}

      <div class="hide-too-long hide-330 show-tiny-screens ">

          <div class="projects-collection row">

            {% set user_presentations = app.user.createdPresentations %}

            {% if user_presentations | length > 0 %}

                {# Plural forms #}
                    
                {% set user_presentations_label %}
                  
                  {% if user_presentations | length == 1 %}Mon projet présenté
                  
                  {% else %}Mes {{user_presentations | length}} projets présentés

                  {% endif %}

                {% endset %}

                {{ display.collection(user_presentations_label, user_presentations | reverse) }}

            {% endif %}
        
        </div> 

      </div>

    {% endif %}

   {# Case user not logged in : displaying homepage jumbotron #}

   <div class="px-0 px-lg-4 col-xxl-11">
      
    {% if not app.user %}
      
      {% include "home/_jumbotron.html.twig" %}
    
    {% endif %}

   </div>


    <div class="projects-collection row my-4">

      {{ display.collection("Derniers projets présentés", lastInsertedPresentations) }}

    </div>

{% endblock %}