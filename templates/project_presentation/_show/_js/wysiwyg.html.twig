<script>
    
    // this script should be called only for user presenters
    
    $(document).ready(function(){


            // delete item icons appear when clicking trash icon        
        
            $(".show-delete-items-buttons").click(function() {

                var scope = $(this).closest('.pp-struct-container').find('.delete-button');

                if ($(this).hasClass("inactivated")){

                    scope.css('visibility', 'visible').css('opacity', '1');

                }

                else {

                    scope.css('visibility', 'hidden').css('opacity', '0');

                }

                $(this).toggleClass("inactivated activated");
                
            });

            $(".pp-edition-mode").show();
       
            // when user edit presentation, we enter in edition mode by default, but some elements are only displayed in consultation mode, so we hide them by default
            $(".pp-consultation-mode").hide();

            // switching between edition mode and consultation mode
                
            $( "#pp-switch-edit-consult-mode" ).click(function() {
                
                if($(this).hasClass("edition-mode")){

                    // entering consultation mode

                    // toggling switch button class

                    $(this).toggleClass("edition-mode consultation-mode");
                    $(this).html("‚úé");

                    //hiding elements related to edition
                    $(".pp-edition-mode").hide();

                    //showing elements related to consultation
                    $(".pp-consultation-mode").show();

                    //disabling sortable capabilities
                    $('.js-elements-list').sortable('disabled', true);


                }

                else{

                    //entering edition mode

                    //toggling switch button class

                    $(this).toggleClass("consultation-mode edition-mode");
                    $(this).html("üëÅ");

                    //showing elements related to edition 
                    $(".pp-edition-mode").show();

                    //hiding elements related to consultation
                    $(".pp-consultation-mode").hide();


                    //enabling sortable capabilities
                    $('.js-elements-list').sortable('disabled', false);

                }
            
            });

    });

</script>