{% embed "/project_presentation/_show/structure_content_skeleton.html.twig" with {'iconName': "text_description", 'title': "Description du Projet",} %}

    {% block editButtons %}

        {# Edit Text Description Button #}

        <a class="pp-edition-mode text-decoration-none" href="{{ path('edit_pp_text_description', {'stringId': presentation.stringId}) }}">

            <button class="btn btn-light btn-sm me-2">Éditer</button>
            
        </a>

    {% endblock %}

    {% block showDeleteElementsButtons %}{% endblock %}

    {% block mainContent %}

        <!-- Project Text Description Display -->

        <div class="pp-struct-content">

            {% set textDescription = presentation.textDescription %}

            {# Text Description Display (2 cases : short text description; collapsible long text description) #}

            <!-- Case 1: short Text: entire text is displayed by default-->

            {% if textDescription | length < 300 %}
            
                <div class="container pp-text-description">
                    
                    {{ textDescription | sanitize_html }}

                </div>

            <!-- Case 2: long Text: we use a collapsible text -->
                
            {% else %}
                
                <div id="moduleCollapseTextDescription" class="container px-0 pl-md-3">

                    <!-- Text Description (Display) -->

                    <div id="collapseTextDescription" class="pp-text-description collapse no-transition" aria-expanded="false">

                        {{ textDescription | sanitize_html }}

                    </div>

                    <!-- Toggle Collapse Button -->

                    <div class="mt-4 mb-2">

                        <button class="collapsed btn btn-primary btn-sm" data-bs-toggle="collapse" data-bs-target="#collapseTextDescription"></button>
                        
                    </div>
                    
                </div>
                    
            {% endif %}

        </div>

        <style>
                    
            #moduleCollapseTextDescription button.collapsed:after {
                content: 'Afficher +';
            }
            
            #moduleCollapseTextDescription button:not(.collapsed):after {
                content: 'Réduire';
            }
            
            #moduleCollapseTextDescription #collapseTextDescription.collapse:not(.show) {
                
                display: block;
                
                height: 3.9em; /* height = lineheight * no of lines to display */

                overflow: hidden;

            }
            
            #moduleCollapseTextDescription #collapseTextDescription.collapsing {
                height: 7.5em;
            }

            .pp-text-description{
                font-size:1.15em;
            }

            @media screen and (max-width: 580px) {


                #moduleCollapseTextDescription #collapseTextDescription.collapse:not(.show) {

                    height: 3em;

                }

                .pp-text-description{

                    font-size: 1.03em;
                }

            }
            
        </style>    

    {% endblock %}

{% endembed %}
