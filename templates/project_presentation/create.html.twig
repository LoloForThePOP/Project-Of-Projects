{% extends 'base.html.twig' %}

{% block title %}Ajouter un Projet{% endblock %}

{% block body %}

    <div class="container col-lg-6 px-0 px-md-4">

        <div class="row mt-5">
                    
            {{form_start(form)}}

                {# Project Goal #}

                <div class="mb-4">

                    <div class="mb-md-3">

                        <span class="fw-bold h5">

                            {{form_label(form.goal)}}
                            
                            {{ form_errors(form.goal) }}

                        </span>

                    </div>

                    <div class="mb-md-3">

                        {{form_widget(form.goal)}}

                    </div>

                </div>

                {# Project Goals Exemples #}

                <div class="card shadow mb-4 mb-lg-5">

                    <div class="card-body p-3">

                        <h4 class="mb-3">Exemples</h4>

                        <!-- Unordered list -->

                        <ul class="fs-15">
                            
                            <li class="mb-2 text-dark">Cr√©er un journal d'investigation</li>
                            <li class="mb-2 text-dark">Restaurer un moulin</li>
                            <li class="mb-2 text-dark">Cr√©er un jeu vid√©o d'action</li>

                        </ul>
                        
                    </div>

                </div>

                {# Action Buttons #}

                <div class="mb-3">
                    
                    <button id="submit-form" type="submit" class="btn btn-primary btn-lg me-2 mb-2">Ajouter le Projet <span class="ms-2">üöÄ</span></button>

                    <a href="{{ path('homepage') }}">
                        <button type="button" class="btn btn-light btn-lg mb-2">Annuler</button>
                    </a>
                
                </div>

            {{ form_end(form) }}

            </div>

        </div>


        {% embed "utilities/modal_skeleton.html.twig" with {'modal_id':'propose_guidance', 'modal_title':'Voulez-vous utiliser le constructeur pour pr√©senter votre projet ?', 'modal_size':'modal-fullscreen'} %}

            {% block modalStatic %}' data-bs-backdrop="static" data-bs-keyboard="false" '{% endblock %}

            {% block closingCross %}{% endblock %}

            {% block modalBody %}

                <h4 class="fw-bold mb-4 text-center">
                    Le constructeur pose des questions et remplit automatiquement votre page de projet !   
                </h4>


                <div class="row">

                    <div class="col-4 d-flex align-items-center justify-content-end">

                        <img class="" src="{{asset ("presentation_helper/interview_mic.png", 'larger')}}" alt="Interview mic" loading="lazy" width="" height="180">

                    </div>

                    <div class="col-4 d-flex align-items-center justify-content-center">

                        <img class="" src="{{asset ("presentation_helper/arrow_right.svg", 'larger')}}" alt="Right arrow" loading="lazy" width="180" height="">

                    </div>

                    <div class="col-4 d-flex align-items-center justify-content-start">

                        <img class="" src="{{asset ("presentation_helper/page_construction_wip.png", 'larger')}}" alt="Page under construction wip site" loading="lazy" width="" height="340">

                    </div>

                </div>
                

                
            
                
            
            {% endblock %}


            {% block modalFooter %}

                <div class="modal-footer">
                    
                    <button data-answer="yes" type="button" class="js-answer btn btn-go-back btn-lg mb-2 me-3">Oui</button>

                    <button data-answer="no" type="button" class="js-answer btn btn-light btn-lg mb-2 me-3">Non</button>

                </div>

            {% endblock %}
            
        {% endembed %}

        <script>

            

            var proposeGuidanceModal = new bootstrap.Modal(document.getElementById("propose_guidance"), {
                backdrop: 'static'
            });

            $('#submit-form').click(function(event) {
    
                event.preventDefault();
                
                proposeGuidanceModal.show();

                $(this).unbind(event);

            });



            $('.js-answer').click(function(event) {

                var answer = $(this).data('answer');

                $('#create_presentation_acceptGuidance').val(answer);

                $(this).html('<div class="loader"></div>');

                $('#submit-form').click();
                
            });

        </script>

{% endblock %}