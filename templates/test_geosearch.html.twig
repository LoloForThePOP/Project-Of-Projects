{% extends 'base.html.twig' %}

{% block title %}Geos{% endblock %}

{% block stylesheets %}
{% endblock %}

{% block javascripts %}{% endblock %}

{% block body %}

<div class="container mt-5">

  	

<div class="ais-GeoSearch">
  <div class="ais-GeoSearch-map">
    <!-- Map element here -->
    <div id="maps"></div>
  </div>
  <div class="ais-GeoSearch-control">
    <label class="ais-GeoSearch-label">
      <input class="ais-GeoSearch-input" type="checkbox">
      Search as I move the map
    </label>
  </div>
  <button class="ais-GeoSearch-reset">
    Clear the map refinement
  </button>
</div>


      

  <style>

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem;
    }
    
    .ais-GeoSearch-map {
      height: 500px; /* You can change this height */
    }
    
    
  </style>


  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyByeac-uQWF2vbkmpxGa0ISzV1M4aCrVVk"></script>

  <script>

  const searchClient = algoliasearch(

    'Z7NO8ZLFH4',
    'b2d9ba779ea94f1c5f81d1b5751e267e'
      
  );

  const search = instantsearch({

    indexName: 'prod_presentation_bases',
    searchClient,

  });

  search.addWidgets([

    instantsearch.widgets.searchBox({
      container: '#searchbox',
    }),

    instantsearch.widgets.geoSearch({
      container: '#maps',
      googleReference: window.google,
      initialZoom: 1,
      initialPosition: {
        lat: 0,
        lng: 0,
      },
      mapOptions: {
        mapTypeId: window.google.maps.MapTypeId.SATELLITE,
      },

        
    })



  ]);

  search.start();


  </script>




{% endblock %}